<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Attendance Risk Calculator</title>

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#020617" />
  <link rel="manifest" href="manifest.json" />

  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="app">
    <header class="app-header">
      <div class="header-main">
        <h1>Attendance Risk</h1>
        <p class="subtitle">
          Personal tool to understand where you stand with attendance warnings.
        </p>
      </div>
    </header>

    <section class="card">
      <h2>Current Status</h2>

      <div class="field-group">
        <label>Active attendance warnings</label>
        <div class="stepper-row">
          <button type="button" class="stepper-btn" data-step="-1" data-target="warningsInput">−</button>
          <input
            id="warningsInput"
            type="number"
            min="0"
            max="3"
            value="0"
            inputmode="numeric"
          />
          <button type="button" class="stepper-btn" data-step="1" data-target="warningsInput">+</button>
        </div>
      </div>

      <div class="field-group">
        <label>Unscheduled call-outs since your last warning</label>
        <div class="chip-row" id="extraChips">
          <button type="button" class="chip chip-selected" data-extra="0">0</button>
          <button type="button" class="chip" data-extra="1">1</button>
          <button type="button" class="chip" data-extra="2">2</button>
        </div>
        <input id="extraCalloutsInput" type="hidden" value="0" />
      </div>

      <div class="field-group">
        <label for="oldestWarningExpires">Oldest active warning expires on</label>
        <input id="oldestWarningExpires" type="date" />
      </div>
    </section>

    <section class="card">
      <h2>Risk Summary</h2>
      <div id="riskSummary" class="results">
        <p>Adjust the values above to see your current risk.</p>
      </div>

      <div class="meter-container">
        <div class="meter-label-row">
          <span>Estimated occurrences used</span>
          <span id="meterCountLabel">0 / 11</span>
        </div>
        <div class="meter-bar">
          <div id="meterFill" class="meter-fill"></div>
        </div>
      </div>
    </section>

    <section class="card">
      <h2>Simulated Call-Outs</h2>

      <div class="field-group">
        <label>Add simulated call-out date</label>
        <input id="simInput" type="date" />
        <button id="addSimBtn" class="chip">Add</button>
      </div>

      <div class="field-group">
        <label>Simulated dates</label>
        <div id="simList" class="sim-list"></div>
      </div>

      <div id="simResult" class="results"></div>
    </section>

    <section class="card">
      <h2>Timeline (Next 12 Months)</h2>
      <div class="timeline-wrapper">
        <div id="timeline" class="timeline"></div>
      </div>
    </section>

    <footer class="app-footer">
      <span>Attendance Risk Calculator · Personal Use Only</span>
    </footer>
  </div>

  <script type="module" src="js/main.js"></script>
</body>
</html>
